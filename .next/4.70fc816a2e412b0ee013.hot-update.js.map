{"version":3,"file":"4.70fc816a2e412b0ee013.hot-update.js","sources":["webpack:///components/VirtualSky.js","webpack:///pages/index.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {Astro} from './index';\nexport default class VirtualSky extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      name: '/',\n      modalOpen: false,\n      currentAstro: {\n        target: {name: 'Astro'},\n        ra: {decimal: 0},\n        dec: {decimal: 0}\n      },\n      currentMetaID: {\n        name: '이한결',\n        joined: '2018년 5월 부터 소유중',\n        about: '코인플러그 개발자',\n        image: 'https://apod.nasa.gov/apod/image/9612/sagan_uc.gif'\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.$sky = $(this.sky);\n\n    this.vs = $.virtualsky({\n      id: 'starmap',\n      projection: 'stereo',\n      credit: false,\n      constellations: true,\n      constellationlabels: true,\n      showorbits: false,\n      showgalaxy: false,\n      showStars: true,\n      showstarlabels: true,\n      objects: this.props.astros,\n      onClickObject: (o) => this.openAstroModal(o),\n    });\n  }\n\n  setName(name) {\n    this.setState({ name });\n    alert('MetaMask open');\n  }\n\n  objectTemplate(object) {\n    return (\n        <div class=\"container\" key={object.target.name}>\n          <a onClick={() => this.setName(object.target.name)} style=\"color: black; cursor: pointer;\">hi</a>\n        </div>\n    );\n  }\n\n  sampleCallMetaMask() {\n    var ether = $('#userEther').val();\n    var address = \"0x65cA73D13a2cc1dB6B92fd04eb4EBE4cEB70c5eC\";\n    var abi = [ { \"constant\": false, \"inputs\": [ { \"name\": \"newString\", \"type\": \"string\" } ], \"name\": \"setString\", \"outputs\": [], \"payable\": false, \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"getString\", \"outputs\": [ { \"name\": \"\", \"type\": \"string\", \"value\": \"Hello World!\" } ], \"payable\": false, \"type\": \"function\" } ];\n    var contract = web3.eth.contract(abi);\n    var stringHolder = contract.at(address);\n    stringHolder.getString(console.log);\n    stringHolder.setString('Sending' + ether + 'ETH' , console.log)\n  }\n\n  moveTo() {\n    console.log(this.vs);\n    this.vs.toggleNegative();\n  }\n\n  openAstroModal(object) {\n    this.setState({currentAstro: object}, () => {\n      this.handleOpen()\n    })\n  };\n\n  handleOpen() {\n    this.setState({ modalOpen: true })\n  }\n  handleClose() {\n    this.setState({ modalOpen: false })\n  }\n\n  render() {\n    return (\n        <div ref={sky => this.sky = sky}>\n          <div id={\"starmap\"} style={styles.container}></div>\n          <Astro\n              astro={this.state.currentAstro}\n              modalOpen={this.state.modalOpen}\n              handleOpen={() => this.handleOpen()}\n              handleClose={() => this.handleClose()}\n              metaID={this.state.currentMetaID}\n          />\n        </div>\n    );\n  }\n\n}\n\nconst styles = {\n  container: {\n    height: '100vh',\n    width: '100%'\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// components/VirtualSky.js","import React, { Component } from 'react';\nimport metaStellar from '../ethereum/metaStellar.js';\nimport {Layout, Astro, Constellation} from '../components/index';\nimport sampleAstros from '../constellation.json';\nimport VirtualSky from '../components/VirtualSky';\n\nclass MetaStellarIndex extends Component {\n  static async getInitialProps() {\n    const lastId = await metaStellar.methods.lastId().call();\n\n    const starIndexes = Array.from(Array(5)).map((e,i)=>i+1);\n\n    console.log('idxs', starIndexes);\n    const astros = await Promise.all(starIndexes.map(async (id) => {\n      const rawAstro = await metaStellar.methods.getAstro(id).call();\n      return {\n        target: {name: rawAstro.name},\n        ra: {decimal: rawAstro.raDecimal / 1000},\n        dec: {decimal: rawAstro.decDecimal / 1000}\n      }\n    }));\n    return {astros};\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      mapShow: true,\n      loading: false\n    }\n  }\n\n  componentDidMount() {\n    console.log(this.props.astros);\n  }\n\n  testClick() {\n    this.setState({\n      mapShow: !this.state.mapShow\n    })\n  }\n\n  render() {\n    return(\n        <Layout>\n          <VirtualSky astros={this.props.astros} mapShow={this.state.mapShow} />\n        </Layout>\n    )\n  }\n}\n\nexport default MetaStellarIndex;\n\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAJA;AARA;AAFA;AAiBA;AACA;;;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAXA;AAaA;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AAAA;AAAA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AASA;;;;;;;;;;;AA7FA;AACA;AADA;AAiGA;AACA;AACA;AACA;AAFA;AADA;;;;;;;;;;;;AAjGA;AAiGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAEA;AACA;;AADA;AAEA;AAAA;AAAA;AAEA;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;;AADA;AAQA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;AA1CA;AACA;AA4CA;AAAA;;;;;;;;;;;;AA7CA;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}