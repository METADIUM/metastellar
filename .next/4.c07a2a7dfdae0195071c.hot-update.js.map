{"version":3,"file":"4.c07a2a7dfdae0195071c.hot-update.js","sources":["webpack:///pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport metaStellar from '../ethereum/metaStellar.js';\nimport {Layout, Astro, Constellation} from '../components/index';\nimport sampleAstros from '../constellation.json';\nimport VirtualSky from '../components/VirtualSky';\n\nclass MetaStellarIndex extends Component {\n  static async getInitialProps() {\n    const lastId = await metaStellar.methods.lastId().call();\n\n    const astros = await metaStellar.methods.lastId().call()\n        .then(async (res) => {\n          const starIndexes = Array.from(Array(parseInt(res))).map((e,i)=>i+1);\n          // 여기가 뭔가 순차처리가 안된다....\n          return await Promise.all(starIndexes.map(async (id) => {\n            const rawAstro = await metaStellar.methods.getAstro(id).call();\n            return {\n              target: {name: rawAstro.name},\n              ra: {decimal: rawAstro.raDecimal / 1000},\n              dec: {decimal: rawAstro.decDecimal / 1000}\n            }\n          }));\n        });\n    return {\n      astros: astros,\n      lastId: lastId\n    };\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      mapShow: true,\n      loading: false\n    }\n  }\n\n  componentDidMount() {\n    console.log(this.props.lastId, this.props.astros);\n  }\n\n  testClick() {\n    this.setState({\n      mapShow: !this.state.mapShow\n    })\n  }\n\n  render() {\n    return(\n        <Layout>\n          <VirtualSky astros={this.props.astros} mapShow={this.state.mapShow} />\n        </Layout>\n    )\n  }\n}\n\nexport default MetaStellarIndex;\n\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAEA;AACA;;AADA;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;;AADA;AAaA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;AAKA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;AA/CA;AACA;AAiDA;AAAA;;;;;;;;;;;;AAlDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}