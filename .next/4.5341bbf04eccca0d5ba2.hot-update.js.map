{"version":3,"file":"4.5341bbf04eccca0d5ba2.hot-update.js","sources":["webpack:///pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport metaStellar from '../ethereum/metaStellar.js';\nimport {Layout, Astro, Constellation} from '../components/index';\nimport sampleAstros from '../constellation.json';\nimport VirtualSky from '../components/VirtualSky';\n\nclass MetaStellarIndex extends Component {\n  static async getInitialProps() {\n    const lastID = await metaStellar.methods.lastId().call();\n    const starIndexes = Array.from(Array(lastId)).map((e,i)=>i+1);\n\n    const textPromises = urls.map(async url => {\n      const response = await fetch(url);\n      return response.text();\n    });\n\n    // log them in sequence\n    for (const textPromise of textPromises) {\n      console.log(await textPromise);\n    }\n\n    return { astros };\n  }\n\n  async renderAstros(idxs) {\n    return await Promise.all(idxs.map(async id => {\n      const astro = await metaStellar.methods.getAstro(id).call();\n      return astro;\n    }));\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      astros: [],\n      mapShow: true,\n      loading: false\n    }\n  }\n\n  componentDidMount() {\n    const starIndexes = Array.from(Array(this.props.lastId)).map((e,i)=>i+1);\n    this.renderAstros(starIndexes)\n        .then(() => this.setState({ loading: false }));\n  }\n\n  testClick() {\n    this.setState({\n      mapShow: !this.state.mapShow\n    })\n  }\n\n  render() {\n    return(\n        <Layout>\n          <VirtualSky astros={this.state.astros} mapShow={this.state.mapShow} />\n        </Layout>\n    )\n  }\n}\n\nexport default MetaStellarIndex;\n\n\n\n// WEBPACK FOOTER //\n// pages/index.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAkBA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAlBA;AACA;;AADA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;;;;;AAKA;AACA;;;;;;;AADA;AACA;;AAAA;AACA;;;;AADA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;AASA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;AApDA;AACA;AAsDA;AAAA;;;;;;;;;;;;AAvDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}